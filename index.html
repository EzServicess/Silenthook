<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SilentHookz Remote Menu</title>
<style>
body { font-family: Arial; padding: 20px; }
label { display: block; margin: 10px 0; }
</style>
</head>
<body>
<h1 id="header">Waiting for program to start...</h1>

<div id="menu" style="display:none;">
  <label>
    <input type="checkbox" id="feature1"> Feature 1
  </label>
  <label>
    <input type="checkbox" id="feature2"> Feature 2
  </label>
</div>

<script>
// Get PC ID from URL path
const pcid = window.location.pathname.slice(1); // removes leading "/"
const header = document.getElementById("header");
const menu = document.getElementById("menu");

if (!pcid) {
    header.innerText = "Waiting for program to start...";
    menu.style.display = "none";
} else {
    header.innerText = "Control Panel for " + pcid;
    menu.style.display = "block";
}

// LocalStorage key for this PC
const settingsKey = "settings_" + pcid;

// Load saved settings
const saved = localStorage.getItem(settingsKey);
if (saved) {
    const data = JSON.parse(saved);
    document.getElementById("feature1").checked = data.feature1;
    document.getElementById("feature2").checked = data.feature2;
}

// Save changes
function saveSettings() {
    const data = {
        feature1: document.getElementById("feature1").checked,
        feature2: document.getElementById("feature2").checked
    };
    localStorage.setItem(settingsKey, JSON.stringify(data));

    // Optional: update a settings JSON on server if you host one
    // e.g., POST fetch('/settings.json', { method:'POST', body:JSON.stringify(data) })
}

document.getElementById("feature1").addEventListener("change", saveSettings);
document.getElementById("feature2").addEventListener("change", saveSettings);
</script>
</body>
</html>
