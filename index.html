<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SilentHookz Remote Menu</title>
<style>
body { font-family: Arial, sans-serif; background: #1e1e2f; color: #fff; margin:0; padding:0; display:flex; justify-content:center; align-items:center; height:100vh; }
#container { width: 400px; padding: 20px; background: #2b2b3e; border-radius: 12px; box-shadow: 0 0 20px rgba(0,0,0,0.5); text-align:center; }
input { width: 80%; padding: 8px; margin: 10px 0; border-radius:6px; border:none; }
button { padding:10px 20px; border:none; border-radius:6px; background:#4caf50; color:white; cursor:pointer; font-weight:bold; }
button:hover { background:#45a049; }
#menu { display:none; text-align:left; margin-top:20px; }
label { display:block; margin:5px 0; }
.tab { display:none; }
.tab.active { display:block; }
.tabs { display:flex; justify-content:space-around; margin-bottom:10px; }
.tabs button { flex:1; margin:0 2px; background:#444; }
.tabs button.active { background:#4caf50; }
</style>
</head>
<body>
<div id="container">
  <div id="login">
    <h2>Login with License</h2>
    <input type="text" id="license" placeholder="Enter License Key">
    <button id="loginBtn">Login</button>
  </div>

  <div id="waiting">
    <h2 id="waitText">Waiting for program to start...</h2>
  </div>

  <div id="menu">
    <h2>Remote Menu</h2>
    <div class="tabs">
      <button id="visualsTab" class="active">Visuals</button>
      <button id="aimTab">Aim</button>
    </div>
    <div id="visuals" class="tab active">
      <label><input type="checkbox" id="box"> Box</label>
      <label><input type="checkbox" id="tracer"> Tracer</label>
      <label>Box Color: <input type="color" id="boxcolor" value="#ff0000"></label>
      <label>Tracer Color: <input type="color" id="tracercolor" value="#00ff00"></label>
      <label>FOV Color: <input type="color" id="fovcolor" value="#0000ff"></label>
      <label><input type="checkbox" id="teamcheck"> Team Check</label>
      <label><input type="checkbox" id="showfov"> Draw FOV</label>
      <label><input type="checkbox" id="vsync"> VSYNC</label>
    </div>
    <div id="aim" class="tab">
      <label><input type="checkbox" id="aimbot"> Aimbot</label>
      <label>FOV: <input type="range" id="aimfov" min="1" max="1000" value="90"></label>
      <label>Smooth: <input type="range" id="smooth" min="0" max="15" value="5"></label>
      <label>Aim Key:
        <select id="aimkey">
          <option value="0x01">LMB</option>
          <option value="0x02">RMB</option>
          <option value="0x04">MB3</option>
          <option value="0x05">MB4</option>
          <option value="0x06">MB5</option>
        </select>
      </label>
    </div>
  </div>
</div>

<script>
// --- Persistent storage ---
let pcid = window.location.pathname.slice(1);  // get PCID from URL
let tokenKey = "token_" + pcid;
let token = localStorage.getItem(tokenKey);

// --- Simple random token generator ---
function randomToken(len=16){
  let chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
  let str = "";
  for(let i=0;i<len;i++) str+=chars[Math.floor(Math.random()*chars.length)];
  return str;
}

// --- Login ---
document.getElementById("loginBtn").addEventListener("click",()=>{
  let lic = document.getElementById("license").value.trim();
  if(lic.length<1){ alert("Enter license"); return; }

  // Generate random exe name (simulate download)
  let exeName = randomToken(12)+".exe";
  console.log("Downloaded:", exeName);

  // Generate persistent token
  token = randomToken(16);
  localStorage.setItem(tokenKey, token);

  // Hide login, show waiting
  document.getElementById("login").style.display="none";
  document.getElementById("waiting").style.display="block";
});

// --- Check token for PCID access ---
if(pcid && token){
  document.getElementById("login").style.display="none";
  document.getElementById("waiting").style.display="block";

  // Simulate program opening -> show menu after 1s
  setTimeout(()=>{
    document.getElementById("waiting").style.display="none";
    document.getElementById("menu").style.display="block";
  },1000);
}else{
  // Not logged in -> force login page
  document.getElementById("login").style.display="block";
  document.getElementById("waiting").style.display="none";
  document.getElementById("menu").style.display="none";
}

// --- Tabs ---
document.getElementById("visualsTab").addEventListener("click",()=>{
  document.getElementById("visuals").classList.add("active");
  document.getElementById("aim").classList.remove("active");
  document.getElementById("visualsTab").classList.add("active");
  document.getElementById("aimTab").classList.remove("active");
});
document.getElementById("aimTab").addEventListener("click",()=>{
  document.getElementById("aim").classList.add("active");
  document.getElementById("visuals").classList.remove("active");
  document.getElementById("aimTab").classList.add("active");
  document.getElementById("visualsTab").classList.remove("active");
});

// --- Save settings locally ---
const settingIds=["box","tracer","boxcolor","tracercolor","fovcolor","teamcheck","showfov","vsync","aimbot","aimfov","smooth","aimkey"];
settingIds.forEach(id=>{
  let el=document.getElementById(id);
  if(!el) return;
  el.addEventListener("change",()=>{
    let data={};
    settingIds.forEach(id=>{
      let e=document.getElementById(id);
      if(!e) return;
      if(e.type==="checkbox") data[id]=e.checked;
      else data[id]=e.value;
    });
    localStorage.setItem("settings_"+pcid,JSON.stringify(data));
  });
});

// --- Load settings ---
let saved = localStorage.getItem("settings_"+pcid);
if(saved){
  let data = JSON.parse(saved);
  settingIds.forEach(id=>{
    let e=document.getElementById(id);
    if(!e) return;
    if(e.type==="checkbox") e.checked=data[id];
    else e.value=data[id];
  });
}
</script>
</body>
</html>
